<div class=" cont_btn mt-5 me-3 pb-3 d-flex">
    <button type="submit" class="btn btn-primary " (click)="addItem()">Agregar Item</button>
     <!-- Botón para mostrar los ítems en consola -->
     <button class="btn btn-secondary ms-3" (click)="mostrarItemsEnConsola()">Mostrar Ítems en Consola</button>
</div>

<div class="container-fluid bg-body-tertiary">
<br>
<table class="table table-striped table-hover table-bordered">
    <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Servicio</th>
          <th scope="col">Descripcion</th>
          <th scope="col">Cantidad</th>
          <th scope="col">Precio/u</th>
          <th scope="col">Total</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody >
        @for ( item of items; track item.tempId) {
        <tr>
            <td>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" (click)="cambiar(item.tempId)">
                </div>
            </td>
            @if(!isChecked[item.tempId]){
            <td class="other_td">
                <select  class="form-select" aria-label="Default select example"  [(ngModel)]="item.productId" (change)="onProductSelected(item, item.productId)" >
                    <option selected ></option>
                    @for(product of products; track product.productId){
                    <option [value]="product.productId">{{product.name}}</option>

                    }
                  </select>
            </td>
            }@else {
                <td class="other_td">
                    <div class="mb-3">
                        <input type="text" class="form-control" id="exampleInputEmail1" >
                    </div>
                </td>
            }
            <td class="other_td_desc">
                <textarea  class="form-control" id="exampleFormControlTextarea1" name="description" rows="1" [(ngModel)]="item.description" readonly></textarea>
            </td>
            <td class="cant_porc">
                <div class="mb-3">
                    <input  type="number" class="form-control" id="exampleInputEmail1"name="quantity" max="800" min="0" [(ngModel)]="item.quantity" (input)="updateTotalValue(item)">
                </div>
            </td>
            <td class="other_td">
                <div class="mb-3">
                    <input  type="number" class="form-control" id="exampleInputEmail1" name="unitValue"  aria-describedby="emailHelp"  [(ngModel)]="item.unitValue" readonly>
                </div>
            </td>
            <td class="other_td">
                <div class="mb-3">
                    <input  type="number" class="form-control" id="exampleInputEmail1" name="totalValue" aria-describedby="emailHelp" [(ngModel)]="item.totalValue" readonly>
                </div>
            </td>
            <td>
                <div class="accion" >
                    <a class="delete bg-danger" type="button" data-bs-toggle="modal" data-bs-target="#static" href="" (click)="deleteItem(item.tempId)" ><img src="../../../../assets/icons/delete.svg" alt="" ></a>
                </div>
            </td>
        </tr>
         }
      </tbody>
</table>


</div>
